!function(c){var i={block:function(t){this.is_blocked(t)||t.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},is_blocked:function(t){return t.is(".processing")||t.parents(".processing").length},unblock:function(t){t.removeClass("processing").unblock()}},n=function(t){c(".multi-store-woocommerce-mini-cart-product-wrapper").replaceWith(c(".multi-store-woocommerce-mini-cart-product-wrapper",t)),c(".multi-store-mini-cart-btn").replaceWith(c(".multi-store-mini-cart-btn",t))},a=function(t){c(".multi-store-cart-icon-container").replaceWith(c(".multi-store-cart-icon-container",t))};c(document).ready(function(){c(".variations_form").on("hide_variation",function(){c(".multi-store-buy-now").prop("disabled",!0)}),c(".variations_form").on("show_variation",function(){c(".multi-store-buy-now").prop("disabled",!1)}),c(".multi-store-buy-now").on("click",function(t){t.preventDefault();var t=c(this).closest("form.cart"),o=c(this),e=(o.addClass("loading"),t.serialize());"simple"==o.data("product-type")&&(e+="&add-to-cart="+t.find('button[name="add-to-cart"]').val()),c.ajax({type:t.attr("method"),url:t.attr("action"),data:e,dataType:"html",success:function(t){window.location.href=MULTISTORE.checkout_url},complete:function(){o.removeClass("loading")}})})}),c(document).on("click",".multi-store-remove-mini-cart-item",function(t){t.preventDefault();var t=c(t.currentTarget),e=t.parents(".multi-store-woocommerce-mini-cart-product-wrapper"),r=t.parents(".multi-store-woocommerce-mini-cart-product-single");i.block(e),c.ajax({type:"GET",url:t.attr("href"),dataType:"html",success:function(o){r.css({height:r.outerHeight(),overflow:"hidden",width:"100%"}).animate({"margin-left":"350"},250,"swing",function(){var t=c.parseHTML(o);n(t),a(t),i.unblock(e)})},complete:function(){i.unblock(e)}})}),c(document).on("added_to_cart",function(t,o,e){var r=c.parseHTML(o["div.widget_shopping_cart_content"]);n(r),c(".multi-store-cart-icon-container .count").text(o["total-cart-items"]),c("body").toggleClass("multi-store-show-mini-cart")}),c(document).on("click",".mini-cart-toggler, .multi-store-mini-cart-close, .multi-store-wc-addon-overlay",function(t){t.preventDefault(),c("body").toggleClass("multi-store-show-mini-cart"),setTimeout(function(){(c("body").hasClass("multi-store-show-mini-cart")?c(".multi-store-woocommerce-mini-cart .multi-store-mini-cart-close"):c(".mini-cart-toggler")).focus()})}),c(document).on("click",".multi-store-woocommerce-addon-empty-cart",function(t){t.preventDefault();var o=c(".multi-store-woocommerce-mini-cart-product-wrapper");i.block(o),c.ajax({type:"get",url:MULTISTORE.admin_url,data:{action:"multi_store_empty_cart"},dataType:"html",success:function(t){t=c.parseHTML(t);n(t),c(".multi-store-cart-icon-container .count").text("0")},complete:function(){i.unblock(o)}})}),c(document).on("click",".quantity button",function(t){var o=c(this).parents("div.quantity").children("input"),e=o.attr("id"),r=parseFloat(o.val()).toFixed(0),r=parseInt(isNaN(r)?0:r),i=parseInt(o.attr("min")),n=parseInt(o.attr("max")),o=parseFloat(o.attr("step"));if(isNaN(n)&&(n=99999999999),c(this).hasClass("up")){if(n==r)return;var a=+o}else{if(i==r)return;a=-o}i==r&&a==-o||n==r&&a==+o||(i=parseFloat(r)+a,c("#"+e).val(i),jQuery('button[name="update_cart"]').prop("disabled",!1),jQuery('button[name="update_cart"]').trigger("click"))}),c(document).on("click",".multi-store-coupon-trigger",function(t){t.preventDefault(),c(this).next().slideToggle()})}(jQuery);